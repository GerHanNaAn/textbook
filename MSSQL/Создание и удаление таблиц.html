<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>Создание и удаление базы данных</h2>
    <h3>Создание базы данных</h3>
    <p>Для создания базы данных используется команда <span class="b">CREATE DATABASE</span>.</p>
    <p>Чтобы создать новую базу данных откроем SQL Server Management Studio. Нажмем на назначение сервера в окне Object
        Explorer и в появившемся меню выберем пункт <span class="b">New Query</span>.</p>
    <img src="pics/28.png">
    <p>В центральное поле для ввода выражений sql введем следующий код:</p>
    CREATE DATABASE usersdb
    <p>Тем самым мы создаем базу данных, которая будет называться "usersdb":</p>
    <img src="pics/31.png" alt="Создание базы данных в MS SQL Server 2016 с помощью T-SQL">
    <p>Для выполнения команды нажмем на панели инструментов на кнопку Execute или на клавишу F5. И на сервере появится
        новая база данных.</p>
    <p>После создания базы даных, мы можем установить ее в качестве текущей с помощью команды <span
            class="b">USE</span>:</p>
    USE usersdb;

    <h3>Прикрепление базы данных</h3>
    <p>Возможна ситуация, что у нас уже есть файл базы данных, который, к примеру, создан на другом компьютере. Файл
        базы данных представляет файл с расширением
        mdf, и этот файл в принципе мы можем переносить. Однако даже если мы скопируем его компьютер с установленным MS
        SQL Server,
        просто так скопированная база данных на сервере не появится. Для этого необходимо выполнить прикрепление базы
        данных к серверу.
        В этом случае применяется выражение:</p>
    1 CREATE DATABASE название_базы_данных
    <br>
    2 ON PRIMARY(FILENAME='путь_к_файлу_mdf_на_локальном_компьютере')
    <br>
    3 FOR ATTACH;
    <p>В качестве каталога для базы данных лучше использовать каталог, где хранятся остальные базы данных сервера. На
        Windows 10
        по умолчанию это каталог <span class="ii">C:\Program Files\Microsoft SQL
            Server\MSSQL13.MSSQLSERVER\MSSQL\DATA</span>.
        Например, пусть в моем случае файл с данными называется userstoredb.mdf. И я хочу этот файл добавить на сервер
        как базу данных. Вначале его надо скопировать в выше указанный каталог. Затем для прикрепления базы к серверу
        надо использовать следующую команду:</p>
    1 CREATE DATABASE contactsdb
    <br>
    2 ON PRIMARY(FILENAME='C:\Program Files\Microsoft SQL Server\MSSQL13.MSSQLSERVER\MSSQL\DATA\userstoredb.mdf')
    <br>
    3 FOR ATTACH;
    <p>После выполнения команды на сервере появится база данных contactsdb.</p>
    <h3>Удаление базы данных</h3>
    <p>Для удаления базы данных применяется команда <span class="b">DROP DATABASE</span>, которая имеет следующий
        синтаксис:</p>
    DROP DATABASE database_name1 [, database_name2]...
    <p>После команды через запятую мы можем перечислить все удаляемые базы данных. Например, удаление базы данных
        contactsdb:</p>
    DROP DATABASE contactsdb
    <p>Стоит учитывать, что даже если удаляемая база данных была прикреплена, то все равно будут удалены все файлы базы
        данных.</p>

</body>

</html>